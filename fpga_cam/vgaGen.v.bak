module vgaGen(

pixClock, resetN, VSync, HSync, red, green, blue 




);

input pixClock;
input resetN;
output VSync;
output HSync;
output [3:0] red;
output [3:0] green;
output [3:0] blue;



reg VSync;
reg HSync;
reg [3:0] red;
reg [3:0] green;
reg [3:0] blue;
 

   reg [10:0] pix_count;
   reg [9:0]  line_count;

initial
   begin
   pix_count   = 0;
   line_count  = 0;
   end

//Pixel and Line counters
always @(posedge CamPCLK)
	begin
   if (pix_count == 799)
      begin
   	pix_count <= 0;
      if (line_count == 524)
         begin
   	   line_count <= 0;
         end
      else
         begin
   	   line_count <= line_count + 1;
         end
      end
   else
      begin
   	pix_count <= pix_count + 1;
      end
   end

//VSYNC and HBLANK generation
always @(posedge CamPCLK)
	begin
   //VSYNC
   if ((line_count >= 0) && (line_count <= 2))
      begin
   	VSYNC <= 1;
      end
   else
      begin
   	VSYNC <= 0;
      end
   //HSync
   if ((pix_count >= 0) && (pix_count <= 95))
      begin
      	HSync <= 0;
      end
    else
         begin
      	HSync <= 1;
         end
      end
   

endmodule